<?xml version="1.0" encoding="utf-8"?>
<tryton>
    <data>
        <record model="res.group" id="group_truck_service_admin">
            <field name="name">Truck Service Administration</field>
        </record>
        <record model="res.user-res.group" id="user_admin_group_truck_service_admin">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_truck_service_admin"/>
        </record>
        <record model="res.user-res.group" id="user_trigger_group_truck_service_admin">
            <field name="user" ref="res.user_trigger"/>
            <field name="group" ref="group_truck_service_admin"/>
        </record>
        <record model="res.group" id="group_truck_service">
            <field name="name">Truck Service</field>
        </record>
        <record model="res.user-res.group" id="user_admin_group_truck_service">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_truck_service"/>
        </record>
        <record model="res.user-res.group" id="user_trigger_group_truck_service">
            <field name="user" ref="res.user_trigger"/>
            <field name="group" ref="group_truck_service"/>
        </record>
        <record model="ir.ui.view" id="truck_order_view_form">
            <field name="model">truck.order</field>
            <field name="type">form</field>
            <field name="name">truck_order_form</field>
        </record>
        <record model="ir.ui.view" id="truck_order_view_list">
            <field name="model">truck.order</field>
            <field name="type">tree</field>
            <field name="name">truck_order_list</field>
        </record>
        <record model="ir.action.act_window" id="act_truck_order">
            <field name="name">Truck Orders</field>
            <field name="res_model">truck.order</field>
        </record>
        <record model="ir.action.act_window.view" id="act_truck_order_view1">
            <field name="sequence" eval="10"/>
            <field name="view" ref="truck_order_view_list"/>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.view" id="act_truck_order_view2">
            <field name="sequence" eval="20"/>
            <field name="view" ref="truck_order_view_form"/>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_truck_order_domain_draft">
            <field name="name">Draft</field>
            <field name="sequence" eval="10"/>
            <field name="domain">[('state', '=', 'draft')]</field>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_truck_order_domain_confirmed">
            <field name="name">Confirmed</field>
            <field name="sequence" eval="20"/>
            <field name="domain">[('state', '=', 'confirmed')]</field>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_truck_order_domain_processing">
            <field name="name">Processing</field>
            <field name="sequence" eval="30"/>
            <field name="domain">[('state', '=', 'processing')]</field>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_truck_order_domain_received">
            <field name="name">Recieved</field>
            <field name="sequence" eval="40"/>
            <field name="domain">[('state', '=', 'recieved')]</field>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.action.act_window.domain"
                id="act_truck_order_domain_all">
            <field name="name">All</field>
            <field name="sequence" eval="9999"/>
            <field name="act_window" ref="act_truck_order"/>
        </record>
        <record model="ir.model.access" id="access_truck_order">
            <field name="model" search="[('model', '=', 'truck.order')]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.model.access" id="access_truck_order_group">
            <field name="model" search="[('model', '=', 'truck.order')]"/>
            <field name="group" ref="group_truck_service"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.model.access" id="access_truck_order_admin">
            <field name="model" search="[('model', '=', 'truck.order')]"/>
            <field name="group" ref="group_truck_service_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.ui.view" id="account_invoice_view_form">
            <field name="model">account.invoice</field>
            <field name="type">form</field>
            <field name="inherit" ref="account_invoice.invoice_view_form"/>
            <field name="name">account_invoice_form</field>
        </record>
        <record model="ir.ui.view" id="account_invoice_line_view_form">
            <field name="model">account.invoice.line</field>
            <field name="type">form</field>
            <field name="inherit" ref="account_invoice.invoice_line_view_form"/>
            <field name="name">account_invoice_line_form</field>
        </record>

          <record model="ir.rule.group" id="rule_group_truck_order">
            <field name="model" search="[('model', '=', 'truck.order')]"/>
            <field name="global_p" eval="True"/>
          </record>

          <record model="ir.rule" id="rule_truck_order1">
            <field name="domain">[('company', '=', user.company.id if user.company else None)]</field>
            <field name="rule_group" ref="rule_group_truck_order"/>
          </record>


        <!-- Menus -->
        <menuitem id="menu_truck_service" name="Truck Services" sequence="50" />

          <record model="ir.ui.menu-res.group" id="menu_truck_service_group_truck_service">
            <field name="menu" ref="menu_truck_service"/>
            <field name="group" ref="group_truck_service"/>
          </record>

          <menuitem action="act_truck_order" id="menu_truck_order"
              parent="menu_truck_service" sequence="20"/>
    </data>
</tryton>
